webpackJsonp([1],{BZrX:function(t,e){},CzTn:function(t,e){},GHgx:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),o=s("mvHQ"),n=s.n(o),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tasks-wrapper"},[s("router-link",{staticClass:"link-home",attrs:{to:"/"}},[s("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",[t._v("HOME")])]),t._v(" "),s("div",{staticClass:"title"},[t.todo.isEditing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.editValue,expression:"editValue"}],attrs:{type:"text"},domProps:{value:t.editValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editTitle(t.todo,t.todo.taskName,t.editValue)},input:function(e){e.target.composing||(t.editValue=e.target.value)}}}):s("h1",[t._v(t._s(t.todo.taskName))]),t._v(" "),s("i",{staticClass:"fa fa-pencil-square-o",on:{click:function(e){return t.changeTitle(t.todo)}}})]),t._v(" "),s("ul",t._l(t.todo.tasks,function(e){return s("li",{key:e.title},[s("i",{class:{"fa fa-circle":e.done,"fa fa-circle-o":!e.done},on:{click:function(s){return t.completeTask(t.todo,e.title)}}}),t._v(" "),e.isEditing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.editValue,expression:"editValue"}],attrs:{type:"text"},domProps:{value:t.editValue},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.editTask(t.todo,e.title,t.editValue)},input:function(e){e.target.composing||(t.editValue=e.target.value)}}}):s("span",{class:{strike:e.done},on:{click:function(s){return t.completeTask(t.todo,e.title)}}},[t._v(t._s(e.title))]),t._v(" "),s("i",{staticClass:"fa fa-pencil-square-o",on:{click:function(s){return t.changeTask(t.todo,e.title)}}}),t._v(" "),s("i",{staticClass:"fa fa-times",on:{click:function(s){return t.deleteTask(t.todo,e.title)}}})])}),0),t._v(" "),s("div",{staticClass:"add"},[s("button",[s("i",{staticClass:"fa fa-plus",on:{click:t.addTask}})])]),t._v(" "),s("div",{staticClass:"save"},[t.isChanged?s("button",[t._v("\n            Save\n        ")]):t._e(),t._v(" "),t.isChanged?s("button",{on:{click:t.undoClk}},[t._v("\n            Undo\n        ")]):t._e()])],1)},staticRenderFns:[]};var d={components:{Task:s("VU/8")({data:function(){return{editValue:"",isChanged:!1,isSaved:!1,undoTodo:[],doTodo:[]}},props:["todo"],methods:{undoClk:function(){},addTask:function(){this.todo.tasks=this.todo.tasks.concat({title:"",done:!1,isEditing:!0})},deleteTask:function(t,e){this.$emit("delete-task",t,e)},completeTask:function(t,e){this.$emit("complete-task",t,e)},changeTask:function(t,e){this.$emit("change-task",t,e),0==this.editValue.length?this.editValue=e:this.editValue=""},changeTitle:function(t){this.$emit("change-title",t),0==this.editValue.length?this.editValue=t.taskName:this.editValue=""},editTask:function(t,e,s){this.$emit("edit-task",t,e,s),this.editValue=""},editTitle:function(t,e,s){this.$emit("edit-title",t,e,s),this.editValue=""}}},a,!1,function(t){s("ypZK")},null,null).exports},props:["todo"],methods:{deleteTask:function(t,e){this.todo.tasks=this.todo.tasks.filter(function(t){return t.title!==e}),this.saveTodos()},completeTask:function(t,e){this.todo.tasks=this.todo.tasks.map(function(t){return t.title===e&&(t.done=!t.done),t}),this.saveTodos()},changeTask:function(t,e){this.todo.tasks=this.todo.tasks.map(function(t){return t.title===e&&(t.isEditing=!t.isEditing),t})},changeTitle:function(t){this.todo.isEditing=!this.todo.isEditing},editTask:function(t,e,s){this.todo.tasks=this.todo.tasks.map(function(t){return t.title===e&&(t.title=s,t.isEditing=!t.isEditing),t}),this.saveTodos()},editTitle:function(t,e,s){this.todo.taskName=s,this.todo.isEditing=!this.todo.isEditing,this.saveTodos()},saveTodos:function(){var t=this,e=void 0;if(localStorage.getItem("todos"))try{e=JSON.parse(localStorage.getItem("todos"))}catch(t){localStorage.removeItem("todos")}e=e.map(function(e){return e.id===t.todo.id&&(e=t.todo),e});var s=n()(e);localStorage.setItem("todos",s)}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("task",{attrs:{todo:this.todo},on:{"delete-task":this.deleteTask,"complete-task":this.completeTask,"change-task":this.changeTask,"edit-task":this.editTask,"edit-title":this.editTitle,"change-title":this.changeTitle}})],1)},staticRenderFns:[]};var r=s("VU/8")(d,l,!1,function(t){s("CzTn")},null,null).exports,c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"card"},[s("div",{staticClass:"header"},[t._v("\n            "+t._s(t.todo.taskName)+"\n        ")]),t._v(" "),s("div",{staticClass:"meta"},[s("ul",t._l(t.todo.tasks,function(e,i){return i<2?s("li",{key:e.title},[s("i",{class:{"fa fa-circle":e.done,"fa fa-circle-o":!e.done}}),t._v(" "),s("span",{class:{strike:e.done}},[t._v(t._s(e.title))])]):t._e()}),0),t._v(" "),t.todo.tasks.length>2?s("p",[t._v("...")]):t._e()]),t._v(" "),s("div",{staticClass:"buttons"},[s("button",[s("router-link",{attrs:{to:{name:"task",params:{todo:t.todo}}}},[t._v("Change")])],1),t._v(" "),s("button",{on:{click:t.deleteTodo}},[t._v("Delete")])])])])},staticRenderFns:[]};var u={data:function(){return{titleText:"",tasks:[{title:"",done:!1,isEditing:!1}],isCreating:!1}},methods:{openForm:function(){this.isCreating=!0},closeForm:function(){this.isCreating=!1},sendForm:function(){if(this.tasks=this.tasks.filter(function(t){return""!==t.title}),this.tasks.length&&console.log("tasks ",this.tasks),this.titleText.length>0){var t=this.titleText,e=this.tasks;this.$emit("create-todo",{taskName:t,tasks:e}),this.titleText="",this.tasks=[{title:"",done:!1,isEditing:!1}],this.isCreating=!1}},addTask:function(){this.tasks=this.tasks.concat({title:"",done:!1,isEditing:!1})},deleteTask:function(t){console.log(t),this.tasks.splice(t,1),console.log(this.tasks)}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("button",{directives:[{name:"show",rawName:"v-show",value:!t.isCreating,expression:"!isCreating"}],on:{click:t.openForm}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isCreating,expression:"isCreating"}],staticClass:"card create"},[s("div",{staticClass:"header"},[s("label",[t._v("Title")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.titleText,expression:"titleText"}],attrs:{type:"text"},domProps:{value:t.titleText},on:{input:function(e){e.target.composing||(t.titleText=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"meta"},[s("label",[t._v("Todo")]),t._v(" "),t._l(t.tasks,function(e,i){return s("div",{key:i,staticClass:"meta__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tasks[i].title,expression:"tasks[index].title"}],attrs:{type:"text"},domProps:{value:t.tasks[i].title},on:{input:function(e){e.target.composing||t.$set(t.tasks[i],"title",e.target.value)}}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.tasks.length>1,expression:"tasks.length > 1"}],staticClass:"fa fa-times",on:{click:function(e){return t.deleteTask(i)}}})])})],2),t._v(" "),s("div",{staticClass:"add"},[s("button",[s("i",{staticClass:"fa fa-plus",on:{click:t.addTask}})])]),t._v(" "),s("div",{staticClass:"buttons"},[s("button",{on:{click:function(e){return t.sendForm()}}},[t._v("Create")]),t._v(" "),s("button",{on:{click:t.closeForm}},[t._v("Cancel")])])])])},staticRenderFns:[]};var v={props:["todos"],components:{Todo:s("VU/8")({props:["todo"],data:function(){return{isEditing:!1}},methods:{deleteTodo:function(t){this.$emit("delete-todo",t)},showForm:function(){this.isEditing=!0},hideForm:function(){this.isEditing=!1}}},c,!1,function(t){s("BZrX")},null,null).exports,CreateTodo:s("VU/8")(u,h,!1,function(t){s("lGSK")},null,null).exports},methods:{createTodo:function(t){this.todos.push(t),this.saveTodos()},deleteTodo:function(t){var e=this.todos.indexOf(t);this.todos.splice(e,1),console.log("todos: ",this.todos),this.saveTodos()},saveTodos:function(){var t=n()(this.todos);localStorage.setItem("todos",t)}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.todos,function(e){return s("todo",{key:e.taskName,attrs:{todo:e},on:{"delete-todo":t.deleteTodo,"update:todo":function(t){e=t}}})}),t._v(" "),s("create-todo",{on:{"create-todo":t.createTodo}})],2)},staticRenderFns:[]};var k=s("VU/8")(v,f,!1,function(t){s("GHgx")},"data-v-4e105f62",null).exports,m={name:"App",components:{TaskList:r,TodoList:k},data:function(){return{todos:[]}},mounted:function(){if(localStorage.getItem("todos"))try{this.todos=JSON.parse(localStorage.getItem("todos"))}catch(t){localStorage.removeItem("todos")}},methods:{saveTodos:function(){var t=n()(this.todos);localStorage.setItem("todos",t)}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{todos:this.todos}})],1)},staticRenderFns:[]};var g=s("VU/8")(m,p,!1,function(t){s("PrLV")},null,null).exports,_=s("/ocq");i.a.use(_.a);var T=new _.a({mode:"history",routes:[{path:"/",component:k},{path:"/task",name:"task",props:!0,component:r}]});new i.a({el:"#app",router:T,components:{App:g},template:"<App/>"})},PrLV:function(t,e){},lGSK:function(t,e){},ypZK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a6a77aa2d9eb035a9e64.js.map